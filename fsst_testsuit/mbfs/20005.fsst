description=Simple random write test of a larger file with inode chain, with a 4k buffer

pre-begin
init-buffer a # init buffer with 'a'
prepare-file 20005.txt 10m
prepare-file 20005-temp.txt 0
rename 20005-temp.txt 20005.txt 8
clear-cache
sleep 2
pre-end

run-begin

init-buffer b # init buffer with 'b'
open 20005.txt
init-rand-access 1234  # init a fixed random seed for random access to reproduce
repeat-50 pwrite 4k X  # random write 50 times, X means random position
fsync
close
clear-cache
sleep 2

open 20005.txt
eval repeat-50 read 4k
close
sleep 2

eval file-md5 20005.txt
run-end

eval-begin
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
d168ecc4ade89ecd5dbb1e7af3311252
f70e676ea390f905a1fd0f35c673e6e5
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
a21a8c1c292b0e5e91e3e2442e7b4d10
9b84b244099b60212cfe6a2e6cb82a96
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
21a199c53f422a380e20b162fb6ebe9c
d335504b091ca119a7d8401d74803361
eval-end
